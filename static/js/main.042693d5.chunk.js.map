{"version":3,"sources":["assets/windows.svg","serviceWorker.ts","hooks/useFixedViewport.ts","components/AppBar.tsx","components/NewTabLink.tsx","components/Button.tsx","context/fileContext.tsx","context/presetsContext.tsx","components/Exporter.tsx","components/Input.tsx","utils/utils.ts","components/FormItem.tsx","components/ImageUploader.tsx","components/SettingBlock.tsx","components/Step.tsx","components/Preset.tsx","components/PresetList.tsx","App.tsx","index.tsx","assets/github.svg","assets/ios.svg","assets/android.svg","assets/upload.svg","assets/web.svg"],"names":["module","exports","__webpack_require__","p","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","fix","document","body","style","height","innerHeight","AppBar","react_default","a","createElement","className","href","target","rel","react_svg_esm","src","iconGithub","memo","props","options","Object","objectSpread","to","assign","children","id","_props$disabled","disabled","_props$isLoading","isLoading","onClick","download","fullWidth","_props$borderRounded","borderRounded","classNames","filter","btnIcon","_children","_props","join","e","stopPropagation","components_NewTabLink","initialState","file","reducer","action","type","payload","FileContext","createContext","setFile","resetFile","Consumer","fillColor","presets","name","width","mime","filename","desc","chosen","map","n","PresetContext","getSelectPresets","togglePreset","setFillColor","color","InputType","Exporter","_useContext","useContext","selectedPresets","makeExport","presetItems","length","filesToDownload","push","metas","forEach","item","concat","some","data","toConsumableArray","generateBaseHTML","JSON","stringify","short_name","icons","sizes","generateBrowserConfig","presetItem","img","canvas","ctx","getContext","Image","minSize","Math","min","x","y","w","h","startsWith","fillStyle","rect","fill","drawImage","toDataURL","replace","generateImage","items","zip","JSZip","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","base64","binary","err","return","generateAsync","content","FileSaver","saveAs","alert","preset","key","src_components_Button","randomString","len","arguments","CHAR_SET","maxPos","str","i","pos","floor","random","charAt","isPlainObject","val","Array","isArray","FormItem","_props$title","title","_props$type","_props$checked","checked","onChange","_props$className","_className","_onChange","_id","htmlFor","component_default","getInput","ImageUploader","_useState","useState","_useState2","slicedToArray","isHover","setIsHover","input","useRef","readFile","_input","current","files","fileReader","FileReader","readAsDataURL","onload","this","result","uploaderClassNames","previewerClassNames","alt","click","onDragOver","preventDefault","onDragLeave","onDrop","iconUpload","ref","accept","_format","pattern","_getValidPattern2","String","Error","_getValidPattern","_getValidPattern3","_getValidPattern3$","_getValidPattern3$2","nonNegative","forceInteger","includes","split","slice","precision","Number","Infinity","tmpArr","substr","_formatNumber","_formatTel","_formatPassword","_formatCaptcha","_formatCode","maxLength","_formatCommon","Text","label","placeholder","autoFocus","autoComplete","readOnly","onKeyDown","onPressEnter","onFocus","onBlur","focused","setFocused","hasValidOnChange","_autoComplete","Password","realType","Tel","getRealType","_pattern","Captcha","SettingBlock","Step","rootClassNames","Preset","icon","_props$value","_props$chosen","toLowerCase","PresetList","ICONS","ANDROID","iconAndroid","IOS","iconIOS","WEB","iconWeb","WINDOWS","iconWindows","App","useEffect","addEventListener","removeEventListener","presetKeys","find","isWindowsChosen","src_components_AppBar","src_components_Step","src_components_ImageUploader","src_components_PresetList","src_components_Preset","toUpperCase","src_components_SettingBlock","src_components_FormItem","src_components_Exporter","Comp","_useReducer","useReducer","_useReducer2","dispatch","Provider","dataURL","src_App_0","render","getElementById","URL","process","origin","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"uHAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,mKCYlCC,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DA8CJ,SAASC,EAAiBC,EAAeC,GACvCC,UAAUC,cACPC,SAASJ,GACTK,KAAK,SAAAC,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfT,UAAUC,cAAcS,YAI1BC,QAAQC,IACN,iHAKEb,GAAUA,EAAOc,UACnBd,EAAOc,SAAST,KAMlBO,QAAQC,IAAI,sCAGRb,GAAUA,EAAOe,WACnBf,EAAOe,UAAUV,UAO5BW,MAAM,SAAAC,GACLL,QAAQK,MAAM,4CAA6CA,eCtGjE,SAASC,IACPC,SAASC,KAAKC,MAAMC,OAAS5B,OAAO6B,YAAc,oDCkBrCC,EAhBA,WACb,OACEC,EAAAC,EAAAC,cAAA,UAAQC,UAAU,UAChBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,oBACAH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAb,iDAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,KAAGE,KAAK,6CAA6CC,OAAO,SAASC,IAAI,uBACvEN,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUC,IAAKC,sBCWVC,iBAXI,SAACC,GAClB,IAAMC,EAAOC,OAAAC,EAAA,EAAAD,CAAA,CACXT,KAAMO,EAAMI,IAAMJ,EAAMP,MAAQ,IAC7BO,GAGL,OACEX,EAAAC,EAAAC,cAAA,IAAAW,OAAAG,OAAA,CAAGX,OAAO,SAASC,IAAI,uBAA0BM,GAAUD,EAAMM,YCsDtDP,4BAxDA,SAACC,GAAkB,IAE9BO,EAUEP,EAVFO,GACAf,EASEQ,EATFR,UAH8BgB,EAY5BR,EARFS,gBAJ8B,IAAAD,KAAAE,EAY5BV,EAPFW,iBAL8B,IAAAD,KAM9BE,EAMEZ,EANFY,QACAR,EAKEJ,EALFI,GACAS,EAIEb,EAJFa,SACAC,EAGEd,EAHFc,UACAR,EAEEN,EAFFM,SAV8BS,EAY5Bf,EADFgB,cAUIC,EAAa,CACjB,MACAR,GAAY,qBAvBkB,IAAAM,MAwBb,sBACjBD,GAAa,iBACbtB,GACA0B,OAAO7D,SAEH8D,EAAUR,EACZtB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBACb,KAEE4B,EACJ/B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACZ2B,EACAb,GAICe,EAAc,CAClB7B,UAAWyB,EAAWK,KAAK,MAU7B,OARIf,IAAMc,EAAOd,GAAKA,GAClBH,GACFiB,EAAOjB,GAAKA,EACRS,IAAYQ,EAAOR,SAAWA,IAElCQ,EAAOT,QAlCQ,SAACW,GAChBA,GAAKA,EAAEC,kBACHb,GACe,oBAAZC,GAA0BA,EAAQW,IAkCpCnB,EACHf,EAAAC,EAAAC,cAACkC,EAAeJ,EAASD,GACzB/B,EAAAC,EAAAC,cAAA,MAAS8B,EAAUD,0CC3DnBM,EAAiC,CACrCC,KAAM,IAGFC,EAAU,SAACtD,EAAyBuD,GACxC,OAAQA,EAAOC,MACb,IAAK,aACH,OAAOJ,EACT,IAAK,WACH,MAAO,CAAEC,KAAME,EAAOE,QAAQJ,MAChC,QACE,OAAOrD,IAIA0D,EAAcC,wBAAc,CACvCN,KAAMD,EAAaC,KACnBO,QAAS,SAACP,KACVQ,UAAW,eCvBPT,GDkD6BM,EAAYI,SClDN,CACvCC,UAAW,UACXC,QAAS,CACP,CAAEC,KAAM,UAAWC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,2BAA4BC,KAAM,oDAAqDC,QAAQ,GACtK,CAAEL,KAAM,UAAWC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,2BAA4BC,KAAM,mDAAoDC,QAAQ,GACrK,CAAEL,KAAM,UAAWC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,2BAA4BC,KAAM,mDAAoDC,QAAQ,GACrK,CAAEL,KAAM,UAAWC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,2BAA4BC,KAAM,mDAAoDC,QAAQ,GACrK,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,mDAAoDC,QAAQ,GACzK,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,mDAAoDC,QAAQ,GACzK,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,iEAAkEC,QAAQ,GACvL,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,iEAAkEC,QAAQ,GACvL,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,iEAAkEC,QAAQ,GACvL,CAAEL,KAAM,MAAOC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,sSAAuSC,QAAQ,GACtZ,CAAEL,KAAM,MAAOC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,mCAAoCC,QAAQ,GACnJ,CAAEL,KAAM,MAAOC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,0CAA2CC,QAAQ,GAC1J,CAAEL,KAAM,MAAOC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,6BAA8BC,KAAM,iCAAkCC,QAAQ,GACjJ,CAAEL,KAAM,MAAOC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,+BAAgCC,KAAM,wCAAyCC,QAAQ,GAC5J,CAAEL,KAAM,MAAOC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,+BAAgCC,KAAM,+BAAgCC,QAAQ,GACnJ,CAAEL,KAAM,MAAOC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,+BAAgCC,KAAM,sCAAuCC,QAAQ,GAC1J,CAAEL,KAAM,MAAOC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,+BAAgCC,KAAM,6BAA8BC,QAAQ,GACjJ,CAAEL,KAAM,MAAOC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,+BAAgCC,KAAM,+BAAgCC,QAAQ,GACnJ,CAAEL,KAAM,MAAOC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,oBAAqBC,KAAM,8CAA+CC,QAAQ,GACrJ,CAAEL,KAAM,MAAOC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,oBAAqBC,KAAM,wBAAyBC,QAAQ,GAC/H,CAAEL,KAAM,MAAOC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,eAAgBC,SAAU,cAAeC,KAAM,qEAAsEC,QAAQ,GACzK,CAAEL,KAAM,UAAWC,MAAO,GAAItD,OAAQ,GAAIuD,KAAM,YAAaC,SAAU,mBAAoBC,KAAM,wBAAyBC,QAAQ,GAClI,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,qBAAsBC,KAAM,wBAAyBC,QAAQ,GACtI,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,qBAAsBC,KAAM,wBAAyBC,QAAQ,GACtI,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,qBAAsBC,KAAM,wBAAyBC,QAAQ,GACtI,CAAEL,KAAM,UAAWC,MAAO,IAAKtD,OAAQ,IAAKuD,KAAM,YAAaC,SAAU,qBAAsBC,KAAM,wBAAyBC,QAAQ,MAIpIhB,EAAU,SAACtD,EAA2BuD,GAC1C,OAAQA,EAAOC,MACb,IAAK,eACH,OAAOJ,EACT,IAAK,gBACH,OAAOxB,OAAAC,EAAA,EAAAD,CAAA,GACF5B,EADL,CAEEgE,QAAShE,EAAMgE,QAAQO,IAAI,SAAAC,GAAC,OAAIA,EAAEP,OAASV,EAAOE,QAAlB7B,OAAAC,EAAA,EAAAD,CAAA,GAAiC4C,EAAjC,CAAoCF,QAASE,EAAEF,SAAWE,MAE9F,IAAK,gBACH,OAAO5C,OAAAC,EAAA,EAAAD,CAAA,GACF5B,EADL,CAEE+D,UAAWR,EAAOE,UAEtB,QACE,OAAOzD,IAIAyE,EAAgBd,wBAAc,CACzCK,QAASZ,EAAaY,QACtBD,UAAWX,EAAaW,UACxBW,iBAAkBA,EAClBC,aAAc,SAACV,KACfW,aAAc,SAACC,OAOjB,SAASH,EAAkBV,GACzB,OAAOA,EAAQpB,OAAO,SAAA4B,GAAC,OAAIA,EAAEF,SA4BMG,EAAcX,SAzB5C,8CCkIP,ICpMYgB,EDoSGC,EAhGE,WAAM,IAAAC,EAKjBC,qBAAWR,GAHbT,EAFmBgB,EAEnBhB,QACAD,EAHmBiB,EAGnBjB,UACAW,EAJmBM,EAInBN,iBAEMrB,EAAS4B,qBAAWvB,GAApBL,KAEF6B,EAAkBR,EAAiBV,GAGzC,SAASmB,EAAYC,GACnB,GAAK/B,EAKL,GAAK+B,EAAYC,OAAjB,CAMA,IAAMC,EAAgC,GAGtCA,EAAgBC,KAnKpB,SAA2BH,EAAiCrB,GAC1D,IAAMyB,EAAkB,GA4CxB,OA1CAJ,EAAYK,QAAQ,SAAAC,GAClB,OAAQA,EAAKzB,MACX,IAAK,MACHuB,EAAMD,KAAN,sCAAAI,OAAiDD,EAAKxB,MAAtD,KAAAyB,OAA+DD,EAAK9E,OAApE,YAAA+E,OAAqFD,EAAKtB,SAA1F,SACA,MACF,IAAK,UACL,IAAK,MACHoB,EAAMD,KAAN,0BAAAI,OAAqCD,EAAKvB,KAA1C,YAAAwB,OAAyDD,EAAKxB,MAA9D,KAAAyB,OAAuED,EAAK9E,OAA5E,YAAA+E,OAA6FD,EAAKtB,SAAlG,YAONoB,EAAMD,KAAN,mDAEIH,EAAYQ,KAAK,SAAApB,GAAC,MAAe,YAAXA,EAAEP,SAC1BuB,EAAMD,KAAN,gDACAC,EAAMD,KAAN,qCAAAI,OAAgD5B,EAAhD,UAEEqB,EAAYQ,KAAK,SAAApB,GAAC,MAAe,YAAXA,EAAEP,SAC1BuB,EAAMD,KAAN,wEACAC,EAAMD,KAAN,iDAAAI,OAA4D5B,EAA5D,UAca,CACbK,SAAU,aACVD,KAAM,YACN0B,KAbW,sBAAAF,OAAA/D,OAAAkE,EAAA,EAAAlE,CAGR4D,EAAMjB,IAAI,SAAAC,GAAC,MAAI,OAASA,KAHhB,gDAQXxB,KAAK,OA8HgB+C,CAAiBX,EAAarB,IAG/CmB,EAAgBU,KAAK,SAAApB,GAAC,MAAe,YAAXA,EAAEP,QAC9BqB,EAAgBC,KAhGL,CACbnB,SAAU,gBACVD,KAAM,mBACN0B,KALWG,KAAKC,UAjBF,CACdC,WAAY,SACZjC,KAAM,SACNkC,MAAO,CACL,CACE5E,IAAK,6BACL6E,MAAO,UACP5C,KAAM,aAER,CACEjC,IAAK,6BACL6E,MAAO,UACP5C,KAAM,eAKyB,KAAM,KAsGrC0B,EAAgBU,KAAK,SAAApB,GAAC,MAAe,YAAXA,EAAEP,QAC9BqB,EAAgBC,KAxFtB,SAAgCxB,GAsB9B,MANe,CACbK,SAAU,oBACVD,KAAM,kBACN0B,KAlBW,uUAAAF,OASS5B,EATT,uEAaXf,KAAK,OA0EkBqD,CAAsBtC,IAI7CqB,EAAYK,QAAQ,SAAAa,GAClB,IAAM3E,EAAOC,OAAAC,EAAA,EAAAD,CAAA,GAAQ0E,GACG,YAApBA,EAAWrC,OACbtC,EAAQoC,UAAYA,GAEtB,IAAMwC,EA5OZ,SAAwBlD,EAAc1B,GACpC,IAAM6E,EAAS/F,SAASQ,cAAc,UACtCuF,EAAOtC,MAAQvC,EAAQuC,MACvBsC,EAAO5F,OAASe,EAAQf,OAExB,IAAM6F,EAAMD,EAAOE,WAAW,MAC9B,GAAKD,EAAL,CAEA,IAAMF,EAAM,IAAII,MAChBJ,EAAIhF,IAAM8B,EAIV,IAAMuD,EAAUC,KAAKC,IAAInF,EAAQuC,MAAOvC,EAAQf,QAC5CmG,EAAI,EACJC,EAAI,EACJC,EAAIL,EACJM,EAAIN,EA8BR,OA5BIjF,EAAQyC,SAAS+C,WAAW,WAAaxF,EAAQoC,WAEnD0C,EAAIW,UAAYzF,EAAQoC,UACxB0C,EAAIY,KAAK,EAAG,EAAGb,EAAOtC,MAAOsC,EAAO5F,QACpC6F,EAAIa,OAGJP,EAAIpF,EAAQuC,MAAQ,EAAI0C,EAAU,EAClCI,EAAIrF,EAAQf,OAAS,EAAIgG,EAAU,EACnCK,EAAc,EAAVL,EAAc,EAClBM,EAAc,EAAVN,EAAc,IAGlBG,EAAIpF,EAAQuC,MAAQ,EAAI0C,EAAU,EAClCI,EAAIrF,EAAQf,OAAS,EAAIgG,EAAU,GAGrCH,EAAIc,UAAUhB,EAAKQ,EAAGC,EAAGC,EAAGC,GAEb,CACb9C,SAAUzC,EAAQyC,SAClBD,KAAMxC,EAAQwC,KAGd0B,KAAMW,EAAOgB,UAAU7F,EAAQwC,MAAMsD,QAAQ,qCAAsC,MAiMrEC,CAAcrE,EAAM1B,GAC5B4E,GACFjB,EAAgBC,KAAKgB,KAtE7B,SAAmBoB,GACjB,GAAKA,EAAMtC,OAGX,GAAqB,IAAjBsC,EAAMtC,OAAV,CAMA,IAAMuC,EAAM,IAAIC,IAVsBC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAWtC,QAAAC,EAAAC,EAAmBR,EAAnBS,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA0B,KAAfpC,EAAewC,EAAAM,MACpB9C,EAAKvB,KAAKgD,WAAW,SACvBS,EAAIvE,KAAKqC,EAAKtB,SAAUsB,EAAKG,KAAM,CAAE4C,QAAQ,EAAMC,QAAQ,IAE3Dd,EAAIvE,KAAKqC,EAAKtB,SAAUsB,EAAKG,OAfK,MAAA8C,GAAAZ,GAAA,EAAAC,EAAAW,EAAA,YAAAb,GAAA,MAAAK,EAAAS,QAAAT,EAAAS,SAAA,WAAAb,EAAA,MAAAC,GAmBtCJ,EAAIiB,cAAc,CAAErF,KAAM,SAAU9D,KAAK,SAAAoJ,GACvCC,IAAUC,OAAOF,EAAS,sBAf1BC,IAAUC,OAAOrB,EAAM,GAAG9B,KAAM8B,EAAM,GAAGvD,UAqEzC7B,CAAS+C,QAhCPtG,OAAOiK,MAAM,+DALbjK,OAAOiK,MAAM,wCAwCjB,OACElI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAGbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAf,8CACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAf,sBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAf,kBAGJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXgE,EAAgBX,IAAI,SAAA2E,GAAM,OAC1BnI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,KAAKiI,IAAKD,EAAO9E,UAC9BrD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMgI,EAAOhF,MAA5B,SAA4CgF,EAAOtI,QACnDG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMgI,EAAO9E,UAC5BrD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAGbH,EAAAC,EAAAC,cAACmI,EAAD,CAAQ5G,WAAS,EAACF,QAAS,SAAAW,GACzBA,GAAKA,EAAEC,kBACPiC,EAAW,CAAC+D,MAFd,sBAYVnI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAACmI,EAAD,CAAQ5G,WAAS,EAACF,QAAS,SAAAW,GACzBA,GAAKA,EAAEC,kBACPiC,EAAWD,KAFb,+BE1RKmE,aAAe,WAI1B,IAJwD,IAA7BC,EAA6BC,UAAAlE,OAAA,QAAA4C,IAAAsB,UAAA,GAAAA,UAAA,GAAf,GACnCC,EAAW,mDACXC,EAASD,EAASnE,OACpBqE,EAAM,GACDC,EAAI,EAAGA,EAAIL,EAAKK,IAAK,CAC5B,IAAMC,EAAM/C,KAAKgD,MAAMhD,KAAKiD,SAAWL,GACvCC,GAAOF,EAASO,OAAOH,GAEzB,OAAOF,IAQIM,EAAgB,SAACC,GAC5B,OACS,MAAPA,GACe,kBAARA,IACgB,IAAvBC,MAAMC,QAAQF,yBCkEHG,aAnDE,SAAC1I,GAAyB,IAEvCO,EAQEP,EARFO,GAFuCoI,EAUrC3I,EAPF4I,aAHuC,IAAAD,EAG/B,GAH+BA,EAAAE,EAUrC7I,EANF8B,YAJuC,IAAA+G,EAIhC,OAJgCA,EAAArI,EAUrCR,EALFS,gBALuC,IAAAD,KAAAsI,EAUrC9I,EAJF+I,eANuC,IAAAD,KAOvChC,EAGE9G,EAHF8G,MACAkC,EAEEhJ,EAFFgJ,SARuCC,EAUrCjJ,EADFR,UAGI0J,EAAa,CACjB,YACAzI,GAAY,2BAd2B,IAAAwI,EAS3B,GAT2BA,GAgBvC/H,OAAO7D,SAASiE,KAAK,KAEvB,SAAS6H,EAAW5H,GACdd,GAEJuI,GAAYA,EAASzH,EAAE7B,OAAOoH,OAIhC,IAAMsC,EAAM7I,GAAMoH,IAgBlB,OACEtI,EAAAC,EAAAC,cAAA,OAAKC,UAAW0J,GACd7J,EAAAC,EAAAC,cAAA,SAAOC,UAAU,mBAAmB6J,QAASD,GAAMR,EAAnD,MACAvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAjBnB,WACE,OAAQsC,GACN,IAAK,WACH,OAAOzC,EAAAC,EAAAC,cAAC+J,EAAAhK,EAAD,CAAayJ,QAASA,EAAStI,SAAUA,EAAUuI,SAAUG,IACtE,IAAK,QACH,OAAO9J,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACpBH,EAAAC,EAAAC,cAAA,SAAOuC,KAAK,OAAOvB,GAAI6I,EAAK3I,SAAUA,EAAUqG,MAAOA,EAAOkC,SAAUG,IACxE9J,EAAAC,EAAAC,cAAA,SAAOuC,KAAK,QAAQrB,SAAUA,EAAUqG,MAAOA,EAAOkC,SAAUG,KAEpE,QACE,OAAO9J,EAAAC,EAAAC,cAAA,SAAOuC,KAAK,OAAOvB,GAAI6I,EAAK3I,SAAUA,EAAUqG,MAAOA,EAAOkC,SAAUG,KAQ7EI,4BCUKC,aA5FO,WAAM,IAAAlG,EACWC,qBAAWvB,GAAxCL,EADkB2B,EAClB3B,KAAMO,EADYoB,EACZpB,QAASC,EADGmB,EACHnB,UADGsH,EAGIC,oBAAS,GAHbC,EAAAzJ,OAAA0J,EAAA,EAAA1J,CAAAuJ,EAAA,GAGnBI,EAHmBF,EAAA,GAGVG,EAHUH,EAAA,GAKpBI,EAAQC,iBAAyB,MAYvC,SAASC,IACP,IAAMC,EAASH,EAAMI,QACrB,GAAID,GAAUA,EAAOE,OAASF,EAAOE,MAAMzG,OAAQ,CACjD,IAAMhC,EAAOuI,EAAOE,MAAM,GACpBC,EAAa,IAAIC,WACvBD,EAAWE,cAAc5I,GACzB0I,EAAWG,OAAS,WAClBtI,EAAQuI,KAAKC,UAiCnB,IAAMC,EAAqB,CACzB,0BACAd,GAAW,uBACX3I,OAAO7D,SAASiE,KAAK,KAEjBsJ,EAAsB,CAC1B,4BACA1J,OAAO7D,SAASiE,KAAK,KAEvB,OAAOK,EAGHtC,EAAAC,EAAAC,cAAA,OAAKC,UAAWoL,GACdvL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,OAAKM,IAAK8B,EAAMkJ,IAAI,MAEtBxL,EAAAC,EAAAC,cAACmI,EAAD,CAAQ9G,QAtBd,SAAgBW,GACdA,GAAKA,EAAEC,kBACPW,MAoBI,6BAKF9C,EAAAC,EAAAC,cAAA,OACEC,UAAWmL,EACX/J,QAzEN,SAAmBW,GACjBA,GAAKA,EAAEC,kBAEP,IAAM0I,EAASH,EAAMI,QACjBD,GACFA,EAAOY,SAqELC,WApDN,SAAsBxJ,GACpBA,GAAKA,EAAEC,kBACPD,GAAKA,EAAEyJ,iBAEPlB,GAAW,IAiDPmB,YA9CN,SAAuB1J,GACrBA,GAAKA,EAAEC,kBACPD,GAAKA,EAAEyJ,iBAEPlB,GAAW,IA2CPoB,OAxCN,WACEjB,MAyCI5K,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUC,IAAKsL,IAAY3L,UAAU,uBACrCH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBAAb,kFACAH,EAAAC,EAAAC,cAAA,SAAOuC,KAAK,OAAOS,KAAK,OAAO6I,IAAKrB,EAAOsB,OAAO,UAAUrC,SAxClE,WACEiB,oBHmGJ,SAASqB,EAASxE,EAAeyE,GAAqC,IAAAC,EArHtE,SAA2BD,GACzB,IAAIzJ,EAAO,GACPlE,EAAS,GAGb,GAAI4K,MAAMC,QAAQ8C,GAAU,CAC1BzJ,EAAO2J,OAAOF,EAAQ,IACtB3N,EAAS2N,EAAQ,GACjB,IACE,IAAKjD,EAAciD,EAAQ,IACzB,MAAM,IAAIG,MAAJ,2DAER9N,EAAS2N,EAAQ,GACjB,MAAOhK,GACP/C,QAAQK,MAAM0C,SAGhBO,EAAO2J,OAAOF,GAGhB,MAAO,CAACzJ,EAAMlE,GA0GmB+N,CAAiBJ,GATkBK,EAAA1L,OAAA0J,EAAA,EAAA1J,CAAAsL,EAAA,GAAAK,EAAAD,EAAA,GAS7D9J,OAT6D,IAAA+J,EAStD,GATsDA,EAAAC,EAAAF,EAAA,GASlDhO,OATkD,IAAAkO,EASzC,GATyCA,EAYpE,OAAQhK,GACN,IAAK,SACHgF,EA3GN,SAAwBA,EAAelJ,GAoBrC,GAbAkJ,EAAQA,EAAMf,QAAQ,cAAe,IAGjCnI,EAAOmO,cACTjF,EAAQA,EAAMf,QAAQ,MAAO,KAI3BnI,EAAOoO,eACTlF,EAAQA,EAAMf,QAAQ,MAAO,KAIjB,KAAVe,EAAc,OAAOA,EAGzB,GAAc,MAAVA,EAAe,MAAO,GAE1B,GAAIA,EAAMrB,WAAW,MAAO,MAAO,IAWnC,GARIqB,EAAMmF,SAAS,OACjBnF,EAAQA,EACLoF,MAAM,KACNC,MAAM,EAAG,GACT7K,KAAK,MAKRwF,EAAMmF,SAAS,MACfrO,EAAOwO,WACPC,OAAOzO,EAAOwO,YAAc,GAC5BC,OAAOzO,EAAOwO,WAAaE,IAC3B,CACA,IAAMC,EAASzF,EAAMoF,MAAM,KAC3BpF,EAAK,GAAA7C,OAAMsI,EAAO,GAAb,KAAAtI,OAAmBsI,EAAO,GAAGC,OAAO,EAAGH,OAAOzO,EAAOwO,aAI5D,OAAOtF,EA4DK2F,CAAc3F,EAAOlJ,GAC7B,MACF,IAAK,MACHkJ,EA3DN,SAAqBA,EAAelJ,GAGlC,OAFAkJ,EAAQA,EAAMf,QAAQ,UAAW,IAAIyG,OAAO,EAAG,IA0DnCE,CAAW5F,GACnB,MACF,IAAK,WACHA,EAvDN,SAA0BA,EAAelJ,GAGvC,OAFAkJ,EAAQA,EAAMf,QAAQ,gBAAiB,IAAIyG,OAAO,EAAG,IAsDzCG,CAAgB7F,GACxB,MACF,IAAK,UACHA,EAnDN,SAAyBA,EAAelJ,GAGtC,OAFAkJ,EAAQA,EAAMf,QAAQ,UAAW,IAAIyG,OAAO,EAAG,GAkDnCI,CAAe9F,GACvB,MACF,IAAK,OACHA,EA/CN,SAAsBA,EAAelJ,GAGnC,OAFAkJ,EAAQA,EAAMf,QAAQ,gBAAiB,IA8C3B8G,CAAY/F,GACpB,MACF,IAAK,SACHA,EA3CN,SAAwBA,EAAelJ,GAUrC,OANEA,EAAOkP,WACPlP,EAAOkP,WAAa,IAEpBhG,EAAQA,EAAM0F,OAAO,EAAG5O,EAAOkP,YAG1BhG,EAiCKiG,CAAcjG,EAAOlJ,GAMjC,OAAOkJ,YApLG1D,mFAiTGrD,eA9GD,SAACC,GAAsB,IAEjCO,EAgBEP,EAhBFO,GACAf,EAeEQ,EAfFR,UAHiCqJ,EAkB/B7I,EAdF8B,YAJiC,IAAA+G,EAI1BzF,EAAU4J,KAJgBnE,EAKjCoE,EAaEjN,EAbFiN,MACAnG,EAYE9G,EAZF8G,MACAoG,EAWElN,EAXFkN,YACAC,EAUEnN,EAVFmN,UACAC,EASEpN,EATFoN,aACAC,EAQErN,EARFqN,SACA5M,EAOET,EAPFS,SACAuI,EAMEhJ,EANFgJ,SACAsE,EAKEtN,EALFsN,UACAC,EAIEvN,EAJFuN,aACAC,EAGExN,EAHFwN,QACAC,EAEEzN,EAFFyN,OACAlC,EACEvL,EADFuL,QAjBiC9B,EAqBLC,oBAAS,GArBJC,EAAAzJ,OAAA0J,EAAA,EAAA1J,CAAAuJ,EAAA,GAqB5BiE,EArB4B/D,EAAA,GAqBnBgE,EArBmBhE,EAAA,GAuB7BiE,EAAuC,oBAAb5E,EAiDhC,IAAM/H,EAAa,CACjB,eACAyM,GAAW,wBACXlO,GACA0B,OAAO7D,SAGH+L,EAAMY,iBAAM,iBAAA/F,OAAkB0D,EAAa,KAAMwC,QAEjD0D,EAAgBT,EAClB,KACAtL,IAASsB,EAAU0K,SACjB,eACA,MAEAC,EAlGR,SAAsBjM,GACpB,OAAQA,GACN,KAAKsB,EAAU4K,IACb,MAAO,MACT,KAAK5K,EAAU0K,SACb,MAAO,WACT,QACE,MAAO,QA2FMG,CAAYnM,GAE7B,OACEzC,EAAAC,EAAAC,cAAA,OAAKC,UAAWyB,EAAWK,KAAK,KAAMf,GAAIA,GACxClB,EAAAC,EAAAC,cAAA,SAAO8J,QAASD,GAAM6D,GACtB5N,EAAAC,EAAAC,cAAA,SACEgB,GAAI6I,EACJtH,KAAMiM,EACNjH,MAAOA,EACPoG,YAAaA,EACbC,UAAWA,EACXC,aAAcS,EACdR,SAAUA,EACV5M,SAAUA,EACVuI,SA5EN,SAAoBzH,GAClB,GAAKqM,IACDnN,EAAJ,CAEA,IAEIyN,EAFApH,EAAQvF,EAAE7B,OAAOoH,MAGrB,OAAQhF,GACN,KAAKsB,EAAU0K,SACbI,EAAW,CAAC,WAAY,CAAEpB,UAAW,KACrC,MACF,KAAK1J,EAAU4K,IACbE,EAAW,MACX,MACF,KAAK9K,EAAU+K,QACbD,EAAW,UACX,MACF,QACEA,EAAW3C,EAGX2C,IACFpH,EAAQwE,EAAQ/J,EAAE7B,OAAOoH,MAAOoH,IAGd,oBAAblF,GAA2BA,EAASlC,EAAOvF,KAoD9C+L,UAjDN,SAAqB/L,GACf8L,GAAY5M,IACN,UAAVc,EAAEkG,KAA2C,oBAAjB8F,GAA+BA,EAAahM,GACnD,oBAAd+L,GAA4BA,EAAU/L,KA+CzCiM,QA5CN,SAAmBjM,GACb8L,GAAY5M,IAChBkN,GAAW,GACQ,oBAAZH,GAA0BA,EAAQjM,KA0CrCkM,OAvCN,SAAkBlM,GACZ8L,GAAY5M,IAChBkN,GAAW,GACO,oBAAXF,GAAyBA,EAAOlM,wCApE3C,IIjLe6M,EAhBM,SAACpO,GAA6B,IAAA2I,EAI7C3I,EAFF4I,aAF+C,IAAAD,EAEvC,GAFuCA,EAG/CrI,EACEN,EADFM,SAGF,OACEjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAAwBoJ,GACrCvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACZc,KCcM+N,aAxBF,SAACrO,GAAqB,IAE/BR,EAGEQ,EAHFR,UACAc,EAEEN,EAFFM,SACAsI,EACE5I,EADF4I,MAGI0F,EAAiB,CACrB,OACA9O,GACA0B,OAAO7D,SAASiE,KAAK,KAEvB,OACEjC,EAAAC,EAAAC,cAAA,WAASC,UAAW8O,GAClBjP,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAChBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAcoJ,IAE9BvJ,EAAAC,EAAAC,cAAA,WAASC,UAAU,aAChBc,MCiCMiO,aA7BA,SAACvO,GAAuB,IAEnCwO,EAKExO,EALFwO,KAFmCC,EAOjCzO,EAJF8G,aAHmC,IAAA2H,EAG3B,GAH2BA,EAAAC,EAOjC1O,EAHF4C,cAJmC,IAAA8L,KAKnC9N,EAEEZ,EAFFY,QALmCqI,EAOjCjJ,EADFR,iBANmC,IAAAyJ,EAMvB,GANuBA,EAS/BhI,EAAa,CACjB,SACA6F,GAAK,WAAA7C,OAAe6C,EAAM6H,eAC1B/L,GAAM,iBACNpD,GACA0B,OAAO7D,SAASiE,KAAK,KAOvB,OACEjC,EAAAC,EAAAC,cAAA,OAAKC,UAAWyB,EAAYL,QAN9B,SAAmBW,GACjBA,GAAKA,EAAEC,kBACY,oBAAZZ,GAA0BA,MAK7B4N,GAAQnP,EAAAC,EAAAC,cAACK,EAAA,EAAD,CAAUC,IAAK2O,EAAMhP,UAAU,iBACzCH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBAAgBsH,MC9BpB8H,aAhBI,SAAC5O,GAA2B,IAAA2I,EAIzC3I,EAFF4I,aAF2C,IAAAD,EAEnC,GAFmCA,EAG3CrI,EACEN,EADFM,SAGF,OACEjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,sBAAsBoJ,GACnCvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACZc,0FCPHuO,EAAmB,CACvBC,QAASC,IACTC,IAAKC,IACLC,IAAKC,IACLC,QAASC,KAwEIC,EArEH,WfXVC,oBAAU,WAIR,OAHAzQ,IACAxB,OAAOkS,iBAAiB,SAAU1Q,GAE3B,WACLxB,OAAOmS,oBAAoB,SAAU3Q,KAEtC,IeIa,IAAAwE,EAQZC,qBAAWR,GAJbT,EAJcgB,EAIdhB,QACAD,EALciB,EAKdjB,UACAY,EANcK,EAMdL,aACAC,EAPcI,EAOdJ,aAIIwM,EAAgD,GACtDpN,EAAQyB,QAAQ,SAAAyD,GACTkI,EAAWC,KAAK,SAAAlI,GAAG,OAAIA,EAAIlF,OAASiF,EAAOjF,QAC9CmN,EAAW7L,KAAK,CAAEtB,KAAMiF,EAAOjF,KAAMK,OAAQ4E,EAAO5E,WAIxD,IAAMgN,EAAkBF,EAAWxL,KAAK,SAAApB,GAAC,MAAe,YAAXA,EAAEP,MAAsBO,EAAEF,SAEvE,OACEvD,EAAAC,EAAAC,cAAA,OAAKgB,GAAG,MAAMf,UAAU,OACtBH,EAAAC,EAAAC,cAACsQ,EAAD,MAEAxQ,EAAAC,EAAAC,cAAA,QAAMC,UAAU,QAEdH,EAAAC,EAAAC,cAACuQ,EAAD,CAAMtQ,UAAU,SAASoJ,MAAM,iDAC7BvJ,EAAAC,EAAAC,cAACwQ,EAAD,OAGF1Q,EAAAC,EAAAC,cAACuQ,EAAD,CAAMtQ,UAAU,SAASoJ,MAAM,iDAC7BvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAACyQ,EAAD,CAAYpH,MAAM,gBACd8G,EAAW7M,IAAI,SAAAC,GAAC,OAChBzD,EAAAC,EAAAC,cAAC0Q,EAAD,CACExI,IAAK3E,EAAEP,KACPiM,KAAMK,EAAM/L,EAAEP,KAAK2N,eACnBpJ,MAAOhE,EAAEP,KACTK,OAAQE,EAAEF,OACVhC,QAAS,WAAQqC,EAAaH,EAAEP,YAKtClD,EAAAC,EAAAC,cAAC4Q,EAAD,CAAcvH,MAAM,6BAClBvJ,EAAAC,EAAAC,cAAC6Q,EAAD,CACE7P,GAAG,aACHqI,MAAM,aACN9G,KAAK,QACLrB,UAAWmP,EACX9I,MAAOzE,EACP2G,SAAU,SAAAT,GACRrF,EAAaqF,SAQvBlJ,EAAAC,EAAAC,cAACuQ,EAAD,CAAMtQ,UAAU,SAASoJ,MAAM,iDAC7BvJ,EAAAC,EAAAC,cAAC8Q,EAAD,UC1EJC,cACJjR,EAAAC,EAAAC,cXkEmC,SAACS,GAAsC,IAAAuQ,EAChDC,qBAAW5O,EAASF,GAD4B+O,EAAAvQ,OAAA0J,EAAA,EAAA1J,CAAAqQ,EAAA,GACnEjS,EADmEmS,EAAA,GAC5DC,EAD4DD,EAAA,GAW1E,IAAM3J,EAAK5G,OAAAC,EAAA,EAAAD,CAAA,GACN5B,EADM,CAET2E,aAVF,SAAuBV,GACrBmO,EAAS,CAAE5O,KAAM,gBAAiBC,QAASQ,KAU3CS,mBACAE,aARF,SAAuBC,GACrBuN,EAAS,CAAE5O,KAAM,gBAAiBC,QAASoB,OAU7C,OACE9D,EAAAC,EAAAC,cAACwD,EAAc4N,SAAf,CAAwB7J,MAAOA,GAC5B9G,EAAMM,WWtFX,KACEjB,EAAAC,EAAAC,cZ4B+B,SAACS,GAAoC,IAAAuQ,EAC5CC,qBAAW5O,EAASF,GADwB+O,EAAAvQ,OAAA0J,EAAA,EAAA1J,CAAAqQ,EAAA,GAC/DjS,EAD+DmS,EAAA,GACxDC,EADwDD,EAAA,GAWtE,IAAM3J,EAAQ,CAAEnF,KAAMrD,EAAMqD,KAAMO,QARlC,SAAkB0O,GAChBF,EAAS,CAAE5O,KAAM,WAAYC,QAAS,CAAEJ,KAAMiP,MAOLzO,UAJ3C,WACEuO,EAAS,CAAE5O,KAAM,iBAKnB,OACEzC,EAAAC,EAAAC,cAACyC,EAAY2O,SAAb,CAAsB7J,MAAOA,GAC1B9G,EAAMM,WY3CT,KACEjB,EAAAC,EAAAC,cAACsR,EAAD,SAKNC,iBACER,GACAvR,SAASgS,eAAe,SjBSnB,SAAmBnT,GACxB,GAA6C,kBAAmBC,UAAW,CAMzE,GAJkB,IAAImT,IACnBC,eACD3T,OAAOC,SAASkC,MAEJyR,SAAW5T,OAAOC,SAAS2T,OAIvC,OAGF5T,OAAOkS,iBAAiB,OAAQ,WAC9B,IAAM7R,EAAK,GAAAsG,OAAMgN,eAAN,sBAEP7T,GAgEV,SAAkCO,EAAeC,GAE/CuT,MAAMxT,GACHK,KAAK,SAAAoT,GAEJ,IAAMC,EAAcD,EAASE,QAAQC,IAAI,gBAEnB,MAApBH,EAASI,QACO,MAAfH,IAA8D,IAAvCA,EAAYI,QAAQ,cAG5C5T,UAAUC,cAAc4T,MAAM1T,KAAK,SAAAC,GACjCA,EAAa0T,aAAa3T,KAAK,WAC7BV,OAAOC,SAASqU,aAKpBlU,EAAgBC,EAAOC,KAG1BgB,MAAM,WACLJ,QAAQC,IACN,mEArFAoT,CAAwBlU,EAAOC,GAI/BC,UAAUC,cAAc4T,MAAM1T,KAAK,WACjCQ,QAAQC,IACN,+GAMJf,EAAgBC,EAAOC,MiBlC/BG,gJCxBAf,EAAAC,QAAiBC,EAAAC,EAAuB,yGCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sJCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0GCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB","file":"static/js/main.042693d5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/windows.0c00adc5.svg\";","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n)\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void\n  onUpdate?: (registration: ServiceWorkerRegistration) => void\n};\n\nexport function register (config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    )\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          )\n        })\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import { useEffect } from 'react'\n\nfunction fix () {\n  document.body.style.height = window.innerHeight + 'px'\n}\n\n/**\n * @description 修复 100vh 在部分设备中超出实际可见区域的问题\n */\nexport default function useFixedViewport () {\n  useEffect(() => {\n    fix()\n    window.addEventListener('resize', fix)\n\n    return () => {\n      window.removeEventListener('resize', fix)\n    }\n  }, [])\n}\n","import React from 'react'\nimport './AppBar.scss'\nimport ReactSVG from 'react-svg'\nimport iconGithub from '../assets/github.svg'\n\nconst AppBar = () => {\n  return (\n    <header className='appbar'>\n      <div className='brand'>\n        <h1 className='app-title'>The · Favicon</h1>\n        <p className='app-intro'>一键生成各种 Favicon</p>\n      </div>\n      <div className='social-links'>\n        <a href='https://github.com/tonghuashuo/the-favicon' target='_blank' rel='noopener noreferrer'>\n          <ReactSVG src={iconGithub} />\n        </a>\n      </div>\n    </header>\n  )\n}\n\nexport default AppBar\n","import React, { memo, ReactNode } from 'react'\n\ninterface NewTabLink {\n  id?: string,\n  className?: string,\n  href?: string,\n  to?: string,\n  download?: string,\n  children?: ReactNode\n}\n\n/**\n * @description 在新标签中打开\n */\nconst NewTabLink = (props: NewTabLink) => {\n  const options = {\n    href: props.to || props.href || '',\n    ...props\n  }\n\n  return (\n    <a target='_blank' rel='noopener noreferrer' {...options}>{props.children}</a>\n  )\n}\n\nexport default memo(NewTabLink)\n","import React, { memo, ReactNode, MouseEvent } from 'react'\nimport NewTabLink from './NewTabLink'\nimport './Button.scss'\n\ninterface Button {\n  id?: string,\n  className?: string,\n  disabled?: boolean,\n  isLoading?: boolean, // 是否处于加载中状态\n  to?: string|any, // 选填，链接地址\n  openInNewTab?: boolean, // 选填，是否新标签打开\n  download?: string, // 选填，文件下载名，留空则为不需要下载\n  fullWidth?: boolean, // 全屏宽度\n  borderRounded?: boolean, // 左右两边是否为半圆\n  children?: ReactNode,\n  onClick?: (e: MouseEvent) => void,\n  [index: string]: any\n}\n\nconst Button = (props: Button) => {\n  const {\n    id,\n    className,\n    disabled = false,\n    isLoading = false,\n    onClick,\n    to,\n    download,\n    fullWidth,\n    children,\n    borderRounded = false\n  } = props\n\n  const _onClick = (e: MouseEvent) => {\n    e && e.stopPropagation()\n    if (isLoading) return\n    typeof onClick === 'function' && onClick(e)\n  }\n\n  // 样式相关\n  const classNames = [\n    'btn',\n    disabled && 'btn--disabled',\n    borderRounded && 'btn--border-rounded',\n    fullWidth && 'btn--fullwidth',\n    className\n  ].filter(Boolean)\n\n  const btnIcon = isLoading\n    ? <i className='btn__loading' />\n    : null\n\n  const _children = (\n    <div className='btn__content'>\n      {btnIcon}\n      {children}\n    </div>\n  )\n\n  const _props: any = {\n    className: classNames.join(' ')\n  }\n  if (id) { _props.id = id }\n  if (to) {\n    _props.to = to\n    if (download) { _props.download = download }\n  } else {\n    _props.onClick = _onClick\n  }\n\n  return to\n    ? <NewTabLink {..._props}>{_children}</NewTabLink>\n    : <div {..._props} >{_children}</div>\n}\n\nexport default memo(Button)\n","import React, { useReducer, createContext, ReactNode } from 'react'\nimport { Action } from '../utils/interfaces'\n\n/**\n * @description 文件上下文\n */\nexport interface FileContextState {\n  /**\n   * @description 将文件保存为 dataURL，因为这里我们只关心图像的内容，文件的其他属性不重要\n   */\n  file: string\n}\n\nconst initialState: FileContextState = {\n  file: ''\n}\n\nconst reducer = (state: FileContextState, action: Action) => {\n  switch (action.type) {\n    case 'RESET_FILE':\n      return initialState\n    case 'SET_FILE':\n      return { file: action.payload.file }\n    default:\n      return state\n  }\n}\n\nexport const FileContext = createContext({\n  file: initialState.file,\n  setFile: (file: string) => {},\n  resetFile: () => {}\n})\n\ninterface FileContextProviderProps {\n  children: ReactNode\n}\n\nexport const FileContextProvider = (props: FileContextProviderProps) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  function setFile (dataURL: string) {\n    dispatch({ type: 'SET_FILE', payload: { file: dataURL } })\n  }\n\n  function resetFile () {\n    dispatch({ type: 'RESET_FILE' })\n  }\n\n  const value = { file: state.file, setFile, resetFile }\n\n  return (\n    <FileContext.Provider value={value}>\n      {props.children}\n    </FileContext.Provider>\n  )\n}\n\nexport const FileContextConsumer = FileContext.Consumer\n","import React, { useReducer, createContext, ReactNode } from 'react'\nimport { Action, ImagePresetProps } from '../utils/interfaces'\n\nexport interface PresetContextState {\n  presets: ImagePresetProps[],\n  fillColor: string\n}\n\nconst initialState: PresetContextState = {\n  fillColor: '#ffffff',\n  presets: [\n    { name: 'Android', width: 36, height: 36, mime: 'image/png', filename: 'android-chrome-36x36.png', desc: 'For Android Chrome M39+ with 0.75 screen density.', chosen: true },\n    { name: 'Android', width: 48, height: 48, mime: 'image/png', filename: 'android-chrome-48x48.png', desc: 'For Android Chrome M39+ with 1.0 screen density.', chosen: true },\n    { name: 'Android', width: 72, height: 72, mime: 'image/png', filename: 'android-chrome-72x72.png', desc: 'For Android Chrome M39+ with 1.5 screen density.', chosen: true },\n    { name: 'Android', width: 96, height: 96, mime: 'image/png', filename: 'android-chrome-96x96.png', desc: 'For Android Chrome M39+ with 2.0 screen density.', chosen: true },\n    { name: 'Android', width: 144, height: 144, mime: 'image/png', filename: 'android-chrome-144x144.png', desc: 'For Android Chrome M39+ with 3.0 screen density.', chosen: true },\n    { name: 'Android', width: 192, height: 192, mime: 'image/png', filename: 'android-chrome-192x192.png', desc: 'For Android Chrome M39+ with 4.0 screen density.', chosen: true },\n    { name: 'Android', width: 256, height: 256, mime: 'image/png', filename: 'android-chrome-256x256.png', desc: 'For Android Chrome M47+ Splash screen with 1.5 screen density.', chosen: true },\n    { name: 'Android', width: 384, height: 384, mime: 'image/png', filename: 'android-chrome-384x384.png', desc: 'For Android Chrome M47+ Splash screen with 3.0 screen density.', chosen: true },\n    { name: 'Android', width: 512, height: 512, mime: 'image/png', filename: 'android-chrome-512x512.png', desc: 'For Android Chrome M47+ Splash screen with 4.0 screen density.', chosen: true },\n    { name: 'iOS', width: 57, height: 57, mime: 'image/png', filename: 'apple-touch-icon-57x57.png', desc: 'iPhone and iPad users can turn web pages into icons on their home screen. Such link appears as a regular iOS native application. When this happens, the device looks for a specific picture. The 57x57 resolution is convenient for non-retina iPhone with iOS6 or prior. Learn more in Apple docs.', chosen: true },\n    { name: 'iOS', width: 60, height: 60, mime: 'image/png', filename: 'apple-touch-icon-60x60.png', desc: 'For non-retina iPhone with iOS7.', chosen: true },\n    { name: 'iOS', width: 72, height: 72, mime: 'image/png', filename: 'apple-touch-icon-72x72.png', desc: 'For non-retina iPad with iOS6 or prior.', chosen: true },\n    { name: 'iOS', width: 76, height: 76, mime: 'image/png', filename: 'apple-touch-icon-76x76.png', desc: 'For non-retina iPad with iOS7.', chosen: true },\n    { name: 'iOS', width: 114, height: 114, mime: 'image/png', filename: 'apple-touch-icon-114x114.png', desc: 'For retina iPhone with iOS6 or prior.', chosen: true },\n    { name: 'iOS', width: 120, height: 120, mime: 'image/png', filename: 'apple-touch-icon-120x120.png', desc: 'For retina iPhone with iOS7.', chosen: true },\n    { name: 'iOS', width: 144, height: 144, mime: 'image/png', filename: 'apple-touch-icon-144x144.png', desc: 'For retina iPad with iOS6 or prior.', chosen: true },\n    { name: 'iOS', width: 152, height: 152, mime: 'image/png', filename: 'apple-touch-icon-152x152.png', desc: 'For retina iPad with iOS7.', chosen: true },\n    { name: 'iOS', width: 180, height: 180, mime: 'image/png', filename: 'apple-touch-icon-180x180.png', desc: 'For iPhone 6 Plus with iOS8.', chosen: true },\n    { name: 'Web', width: 16, height: 16, mime: 'image/png', filename: 'favicon-16x16.png', desc: 'The classic favicon, displayed in the tabs.', chosen: true },\n    { name: 'Web', width: 32, height: 32, mime: 'image/png', filename: 'favicon-32x32.png', desc: 'For Safari on Mac OS.', chosen: true },\n    { name: 'Web', width: 32, height: 32, mime: 'image/x-icon', filename: 'favicon.ico', desc: 'Used by IE, and also by some other browsers if we are not careful.', chosen: true },\n    { name: 'Windows', width: 70, height: 70, mime: 'image/png', filename: 'mstile-70x70.png', desc: 'For Windows 8 / IE11.', chosen: true },\n    { name: 'Windows', width: 144, height: 144, mime: 'image/png', filename: 'mstile-144x144.png', desc: 'For Windows 8 / IE10.', chosen: true },\n    { name: 'Windows', width: 150, height: 150, mime: 'image/png', filename: 'mstile-150x150.png', desc: 'For Windows 8 / IE11.', chosen: true },\n    { name: 'Windows', width: 310, height: 310, mime: 'image/png', filename: 'mstile-310x310.png', desc: 'For Windows 8 / IE11.', chosen: true },\n    { name: 'Windows', width: 310, height: 150, mime: 'image/png', filename: 'mstile-310x150.png', desc: 'For Windows 8 / IE11.', chosen: true }\n  ]\n}\n\nconst reducer = (state: PresetContextState, action: Action) => {\n  switch (action.type) {\n    case 'RESET_PRESET':\n      return initialState\n    case 'TOGGLE_PRESET':\n      return {\n        ...state,\n        presets: state.presets.map(n => n.name === action.payload ? { ...n, chosen: !n.chosen } : n)\n      }\n    case 'SET_FILLCOLOR':\n      return {\n        ...state,\n        fillColor: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport const PresetContext = createContext({\n  presets: initialState.presets,\n  fillColor: initialState.fillColor,\n  getSelectPresets: getSelectPresets,\n  togglePreset: (name: string) => {},\n  setFillColor: (color: string) => {}\n})\n\ninterface PresetContextProviderProps {\n  children: ReactNode\n}\n\nfunction getSelectPresets (presets: ImagePresetProps[]) {\n  return presets.filter(n => n.chosen)\n}\n\nexport const PresetContextProvider = (props: PresetContextProviderProps) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  function togglePreset (name: string) {\n    dispatch({ type: 'TOGGLE_PRESET', payload: name })\n  }\n\n  function setFillColor (color: string) {\n    dispatch({ type: 'SET_FILLCOLOR', payload: color })\n  }\n\n  const value = {\n    ...state,\n    togglePreset,\n    getSelectPresets,\n    setFillColor\n  }\n\n  return (\n    <PresetContext.Provider value={value}>\n      {props.children}\n    </PresetContext.Provider>\n  )\n}\n\nexport const PresetContextConsumer = PresetContext.Consumer\n","import React, { useContext } from 'react'\nimport { Button } from 'components'\nimport './Exporter.scss'\nimport { PresetContext, FileContext } from 'context'\nimport { ImagePresetProps, ExportItem } from 'utils/interfaces'\nimport JSZip from 'jszip'\nimport FileSaver from 'file-saver'\n\n/**\n * @description 通过 canvas 创建各尺寸的图片文件\n * @param dataURL 图片文件的 dataURL\n * @param options 目标图片的配置信息（尺寸、颜色、扩展名、文件名等）\n */\nfunction generateImage (file: string, options: ImagePresetProps): ExportItem | undefined {\n  const canvas = document.createElement('canvas')\n  canvas.width = options.width\n  canvas.height = options.height\n\n  const ctx = canvas.getContext('2d')\n  if (!ctx) return undefined\n\n  const img = new Image()\n  img.src = file\n\n  // 图片不一定都是正方形\n  // 这里确保目标图片能完整显示在指定区域内\n  const minSize = Math.min(options.width, options.height)\n  let x = 0\n  let y = 0\n  let w = minSize\n  let h = minSize\n\n  if (options.filename.startsWith('mstile') && options.fillColor) {\n    // Windows Tile 需要填充背景色\n    ctx.fillStyle = options.fillColor\n    ctx.rect(0, 0, canvas.width, canvas.height)\n    ctx.fill()\n\n    // 并将图标缩放为 2 / 3\n    x = options.width / 2 - minSize / 3\n    y = options.height / 2 - minSize / 3\n    w = minSize * 2 / 3\n    h = minSize * 2 / 3\n  } else {\n    // 其他图片则填满，不缩放\n    x = options.width / 2 - minSize / 2\n    y = options.height / 2 - minSize / 2\n  }\n\n  ctx.drawImage(img, x, y, w, h)\n\n  const output = {\n    filename: options.filename,\n    mime: options.mime,\n    // JSZip 要求 base64 编码的图片不带前缀，因此这里要去掉\n    /* eslint-disable no-useless-escape */\n    data: canvas.toDataURL(options.mime).replace(/^data:image\\/(png|x\\-icon);base64,/, '')\n    /* eslint-enable no-useless-escape */\n  }\n\n  return output\n}\n\n/**\n * @description 生成应用了选中图标的 HTML 模板\n * @param presetItems 被选中的预设项\n * @param fillColor 填充色\n */\nfunction generateBaseHTML (presetItems: ImagePresetProps[], fillColor: string): ExportItem {\n  const metas: string[] = []\n\n  presetItems.forEach(item => {\n    switch (item.name) {\n      case 'iOS':\n        metas.push(`<link rel='apple-touch-icon' size='${item.width}x${item.height}' href='${item.filename}' />`)\n        break\n      case 'Android':\n      case 'Web':\n        metas.push(`<link rel='icon' type='${item.mime}' size='${item.width}x${item.height}' href='${item.filename}' />`)\n        break\n      default:\n        break\n    }\n  })\n  // fallback\n  metas.push(`<link rel='shortcut icon' href='favicon.ico' />`)\n\n  if (presetItems.some(n => n.name === 'Android')) {\n    metas.push(`<link rel='manifest' href='manifest.json' />`)\n    metas.push(`<meta name='theme-color' content='${fillColor}' />`)\n  }\n  if (presetItems.some(n => n.name === 'Windows')) {\n    metas.push(`<meta name='msapplication-TileImage' content='mstile-144x144.png' />`)\n    metas.push(`<meta name='msapplication-TileColor' content='${fillColor}' />`)\n  }\n\n  // 格式化需要，以确保生成文件的缩进和换行\n  const data = [\n    `<html>`,\n    `  <head>`,\n    ...metas.map(n => `    ` + n),\n    `  </head>`,\n    `  <body>`,\n    `  </body>`,\n    `</html>`\n  ].join('\\n')\n\n  const output = {\n    filename: 'index.html',\n    mime: 'text/html',\n    data\n  }\n\n  return output\n}\n\n/**\n * @description 生成 Google 推荐的 Web Manifest 文件\n */\nfunction generateWebManifest (): ExportItem {\n  const content = {\n    short_name: 'My App',\n    name: 'My App',\n    icons: [\n      {\n        src: 'android-chrome-192x192.png',\n        sizes: '192x192',\n        type: 'image/png'\n      },\n      {\n        src: 'android-chrome-512x512.png',\n        sizes: '512x512',\n        type: 'image/png'\n      }\n    ]\n  }\n\n  const data = JSON.stringify(content, null, 2)\n\n  const output = {\n    filename: 'manifest.json',\n    mime: 'application/json',\n    data\n  }\n\n  return output\n}\n\n/**\n * @description 生成 Windows Tile 所需的 browserconfig.xml 文件\n * @param fillColor 填充色\n */\nfunction generateBrowserConfig (fillColor: string): ExportItem {\n  const data = [\n    `<?xml version=\"1.0\" encoding=\"utf-8\"?>`,\n    `<browserconfig>`,\n    `  <msapplication>`,\n    `    <tile>`,\n    `      <square70x70logo src=\"/mstile-70x70.png\"/>`,\n    `      <square150x150logo src=\"/mstile-150x150.png\"/>`,\n    `      <wide310x150logo src=\"/mstile-310x150.png\"/>`,\n    `      <square310x310logo src=\"/mstile-310x310.png\"/>`,\n    `      <TileColor>${fillColor}</TileColor>`,\n    `    </tile>`,\n    `  </msapplication>`,\n    `</browserconfig>`\n  ].join('\\n')\n\n  const output = {\n    filename: 'browserconfig.xml',\n    mime: 'application/xml',\n    data\n  }\n\n  return output\n}\n\n/**\n * @description 下载文件\n * @param items 下载项列表\n */\nfunction download (items: ExportItem[]) {\n  if (!items.length) return\n\n  // 单个文件直接打包\n  if (items.length === 1) {\n    FileSaver.saveAs(items[0].data, items[0].filename)\n    return\n  }\n\n  // 多文件打包下载\n  const zip = new JSZip()\n  for (const item of items) {\n    if (item.mime.startsWith('image')) {\n      zip.file(item.filename, item.data, { base64: true, binary: true })\n    } else {\n      zip.file(item.filename, item.data)\n    }\n  }\n\n  zip.generateAsync({ type: 'blob' }).then(content => {\n    FileSaver.saveAs(content, 'favicon.zip')\n  })\n}\n\nconst Exporter = () => {\n  const {\n    presets,\n    fillColor,\n    getSelectPresets\n  } = useContext(PresetContext)\n  const { file } = useContext(FileContext)\n\n  const selectedPresets = getSelectPresets(presets)\n\n  // 触发导出\n  function makeExport (presetItems: ImagePresetProps[]): void {\n    if (!file) {\n      window.alert('请先选择文件')\n      return\n    }\n\n    if (!presetItems.length) {\n      window.alert('请选择至少一个预设')\n      return\n    }\n\n    // 待下载文件列表\n    const filesToDownload: ExportItem[] = []\n\n    // 生成 HTML 模板\n    filesToDownload.push(generateBaseHTML(presetItems, fillColor))\n\n    // 生成 Web Manifest\n    if (selectedPresets.some(n => n.name === 'Android')) {\n      filesToDownload.push(generateWebManifest())\n    }\n\n    // 生成 browserconfig.xml\n    if (selectedPresets.some(n => n.name === 'Windows')) {\n      filesToDownload.push(generateBrowserConfig(fillColor))\n    }\n\n    // 生成图片\n    presetItems.forEach(presetItem => {\n      const options = { ...presetItem }\n      if (presetItem.name === 'Windows') {\n        options.fillColor = fillColor\n      }\n      const img = generateImage(file, options)\n      if (img) {\n        filesToDownload.push(img)\n      }\n    })\n\n    download(filesToDownload)\n  }\n\n  return (\n    <div className='exporter__container'>\n\n      {/* 预览所选预设对应的图片文件 */}\n      <div className='table'>\n        <div className='thead'>\n          <div className='tr'>\n            <div className='th'>尺寸（宽 × 高）</div>\n            <div className='th'>文件名</div>\n            <div className='th'>下载</div>\n          </div>\n        </div>\n        <div className='tbody'>\n          { selectedPresets.map(preset => (\n            <div className='tr' key={preset.filename}>\n              <div className='td'>{preset.width} &times; {preset.height}</div>\n              <div className='td'>{preset.filename}</div>\n              <div className='td'>\n\n                {/* 下载单张图片 */}\n                <Button fullWidth onClick={e => {\n                  e && e.stopPropagation()\n                  makeExport([preset])\n                }}>下载</Button>\n\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* 下载全部 */}\n      <div className='toolbar'>\n        <Button fullWidth onClick={e => {\n          e && e.stopPropagation()\n          makeExport(selectedPresets)\n        }}>下载全部</Button>\n      </div>\n\n    </div>\n  )\n}\n\nexport default Exporter\n","import React, { memo, useState, useRef, KeyboardEventHandler, FocusEventHandler, ChangeEvent } from 'react'\nimport './Input.scss'\nimport { isPlainObject, randomString } from '../utils/utils'\nimport { OptionBag } from '../utils/interfaces'\n\n// 文本校验模式\nexport type InputPattern = string | [string, OptionBag] | undefined\n\n// 文本输入类型\nexport enum InputType {\n  Text = 'text',\n  Password = 'password',\n  Tel = 'tel',\n  Captcha = 'captcha'\n}\n\nexport interface InputProps {\n  id?: string,\n  className?: string,\n  type?: InputType, // 文本输入框的类型（这里按照用途分类，不是 <input> 的 type）\n  label?: string,\n  value?: string,\n  placeholder?: string,\n  autoFocus?: boolean,\n  autoComplete?: boolean,\n  readOnly?: boolean,\n  disabled?: boolean,\n  onChange?: (value: string, event?: ChangeEvent<HTMLInputElement>) => void,\n  onKeyDown?: KeyboardEventHandler,\n  onPressEnter?: KeyboardEventHandler,\n  onFocus?: FocusEventHandler,\n  onBlur?: FocusEventHandler,\n  pattern?: InputPattern, // 数据验证规则\n  showPassword?: boolean\n}\n\n// 确保 pattern 的格式有效\nfunction _getValidPattern (pattern: InputPattern) {\n  let type = ''\n  let config = {}\n\n  // 验证 pattern 参数是否为有效格式\n  if (Array.isArray(pattern)) {\n    type = String(pattern[0])\n    config = pattern[1]\n    try {\n      if (!isPlainObject(pattern[1])) {\n        throw new Error(`Expect the second argument of 'pattern' to be an object`)\n      }\n      config = pattern[1]\n    } catch (e) {\n      console.error(e)\n    }\n  } else {\n    type = String(pattern)\n  }\n\n  return [type, config]\n}\n\n// 格式化数字（支持负数、小数）\nfunction _formatNumber (value: string, config: {\n  nonNegative?: boolean,\n  forceInteger?: boolean,\n  precision?: number\n}) {\n  /* eslint-disable no-useless-escape */\n  // 过滤掉非数字相关的字符\n  value = value.replace(/[^0-9\\.\\-]/g, '')\n\n  // 非负不得出现负号\n  if (config.nonNegative) {\n    value = value.replace(/\\-/g, '')\n  }\n\n  // 整数不得出现小数点\n  if (config.forceInteger) {\n    value = value.replace(/\\./g, '')\n  }\n\n  // 允许空字符串\n  if (value === '') return value\n\n  // 小数点不能在开头\n  if (value === '.') return ''\n  // 负号后面必须接数字\n  if (value.startsWith('-.')) return '-'\n\n  // 小数点只能出现一次\n  if (value.includes('.')) {\n    value = value\n      .split('.')\n      .slice(0, 2)\n      .join('.')\n  }\n\n  // 小数部分最大位数\n  if (\n    value.includes('.') &&\n    config.precision &&\n    Number(config.precision) >= 0 &&\n    Number(config.precision) < Infinity\n  ) {\n    const tmpArr = value.split('.')\n    value = `${tmpArr[0]}.${tmpArr[1].substr(0, Number(config.precision))}`\n  }\n  /* eslint-enable no-useless-escape */\n\n  return value\n}\n\n// 格式化电话号码（纯数字）\nfunction _formatTel (value: string, config: OptionBag) {\n  value = value.replace(/[^0-9]/g, '').substr(0, 11)\n\n  return value\n}\n\n// 格式化密码（大小写英文数字）\nfunction _formatPassword (value: string, config: OptionBag) {\n  value = value.replace(/[^0-9a-zA-Z]/g, '').substr(0, 16)\n\n  return value\n}\n\n// 格式化验证码（6位数字）\nfunction _formatCaptcha (value: string, config: OptionBag) {\n  value = value.replace(/[^0-9]/g, '').substr(0, 6)\n\n  return value\n}\n\n// 格式化各类代码（邀请码等）\nfunction _formatCode (value: string, config: OptionBag) {\n  value = value.replace(/[^0-9a-zA-Z]/g, '')\n\n  return value\n}\n\n// 常规的格式化\nfunction _formatCommon (value: string, config: {\n  maxLength?: number\n}) {\n  if (\n    config.maxLength &&\n    config.maxLength >= 0\n  ) {\n    value = value.substr(0, config.maxLength)\n  }\n\n  return value\n}\n\n// 按照给定 pattern 进行格式化\nfunction _format (value: string, pattern: string|[string, OptionBag]) {\n  /**\n   * pattern 支持有两种格式\n   *\n   * 1）[type = '', config = {}] 数组\n   * type 表示验证类型, config 为可选的配置对象\n   *\n   * 2）如果不需要配置对象，可以直接传一个字符串表示 type\n   */\n  const [type = '', config = {}] = _getValidPattern(pattern)\n\n  // 验证\n  switch (type) {\n    case 'number':\n      value = _formatNumber(value, config)\n      break\n    case 'tel':\n      value = _formatTel(value, config)\n      break\n    case 'password':\n      value = _formatPassword(value, config)\n      break\n    case 'captcha':\n      value = _formatCaptcha(value, config)\n      break\n    case 'code':\n      value = _formatCode(value, config)\n      break\n    case 'common':\n      value = _formatCommon(value, config)\n      break\n    default:\n      break\n  }\n\n  return value\n}\n\n// 根据 props.type 获取 input 的 type\nfunction getRealType (type: InputType): string {\n  switch (type) {\n    case InputType.Tel:\n      return 'tel'\n    case InputType.Password:\n      return 'password'\n    default:\n      return 'text'\n  }\n}\n\nconst Input = (props: InputProps) => {\n  const {\n    id,\n    className,\n    type = InputType.Text,\n    label,\n    value,\n    placeholder,\n    autoFocus,\n    autoComplete,\n    readOnly,\n    disabled,\n    onChange,\n    onKeyDown,\n    onPressEnter,\n    onFocus,\n    onBlur,\n    pattern\n  } = props\n\n  // 聚焦样式\n  const [focused, setFocused] = useState(false)\n\n  const hasValidOnChange = typeof onChange === 'function'\n\n  function _onChange (e: any) {\n    if (!hasValidOnChange) return\n    if (disabled) return\n\n    let value = e.target.value\n\n    let _pattern: InputPattern\n    switch (type) {\n      case InputType.Password:\n        _pattern = ['password', { maxLength: 16 }]\n        break\n      case InputType.Tel:\n        _pattern = 'tel'\n        break\n      case InputType.Captcha:\n        _pattern = 'captcha'\n        break\n      default:\n        _pattern = pattern\n    }\n\n    if (_pattern) {\n      value = _format(e.target.value, _pattern)\n    }\n\n    typeof onChange === 'function' && onChange(value, e)\n  }\n\n  function _onKeyDown (e: any) {\n    if (readOnly || disabled) return\n    e.key === 'Enter' && typeof onPressEnter === 'function' && onPressEnter(e)\n    typeof onKeyDown === 'function' && onKeyDown(e)\n  }\n\n  function _onFocus (e: any) {\n    if (readOnly || disabled) return\n    setFocused(true)\n    typeof onFocus === 'function' && onFocus(e)\n  }\n\n  function _onBlur (e: any) {\n    if (readOnly || disabled) return\n    setFocused(false)\n    typeof onBlur === 'function' && onBlur(e)\n  }\n\n  // 样式相关\n  const classNames = [\n    'caibao-input',\n    focused && 'caibao-input--focused',\n    className\n  ].filter(Boolean)\n\n  // 内部 ID，用于实现 label 和 input 的联动\n  const _id = useRef(`caibao-input--${randomString(8)}`).current\n\n  const _autoComplete = autoComplete\n    ? 'on'\n    : type === InputType.Password\n      ? 'new-password'\n      : 'off'\n\n  const realType = getRealType(type)\n\n  return (\n    <div className={classNames.join(' ')} id={id}>\n      <label htmlFor={_id}>{label}</label>\n      <input\n        id={_id}\n        type={realType}\n        value={value}\n        placeholder={placeholder}\n        autoFocus={autoFocus}\n        autoComplete={_autoComplete}\n        readOnly={readOnly}\n        disabled={disabled}\n        onChange={_onChange}\n        onKeyDown={_onKeyDown}\n        onFocus={_onFocus}\n        onBlur={_onBlur}\n      />\n    </div>\n  )\n}\n\nexport default memo(Input)\n","// 通用工具函数，与业务无关\n// 主要涵盖：验证、格式化、转换\n// 均为纯函数，不包含副作用\n\n/**\n * @description 生成随机字符串\n * @param {number} len length of the string to generate\n * @returns {string} random string of given length\n */\nexport const randomString = (len: number = 32): string => {\n  const CHAR_SET = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678'\n  const maxPos = CHAR_SET.length\n  let str = ''\n  for (let i = 0; i < len; i++) {\n    const pos = Math.floor(Math.random() * maxPos)\n    str += CHAR_SET.charAt(pos)\n  }\n  return str\n}\n\n/**\n * @description 判断一个值是否是一个对象（而不是数组等其它继承自对象的类型）\n * @param {*} val 待验证的值\n * @returns {boolean} 判断结果\n */\nexport const isPlainObject = (val: any): boolean => {\n  return (\n    val != null &&\n    typeof val === 'object' &&\n    Array.isArray(val) === false\n  )\n}\n","import React, { ChangeEvent } from 'react'\nimport './FormItem.scss'\nimport { randomString } from 'utils/utils'\nimport ReactToggle from 'react-toggle'\nimport 'react-toggle/style.css'\n\n/**\n * @description 表单项\n */\ninterface FormItemProps {\n  /**\n   * @description 指定表单项的 id，用于关联 label。不指定则自动生成随机字符串作为 id\n   */\n  id?: string,\n  /**\n   * @description 表单项的 title\n   */\n  title?: string,\n  /**\n   * @description input 的类型\n   */\n  type?: string,\n  /**\n   * @description 是否禁用\n   */\n  disabled?: boolean,\n  /**\n   * @description 是否勾选（仅用于 CheckBox）\n   */\n  checked?: boolean,\n  /**\n   * @description input 的取值\n   */\n  value?: string,\n  /**\n   * @description input 内容变更时触发\n   */\n  onChange?: (value: string) => void,\n  /**\n   * @description 支持添加额外的样式\n   */\n  className?: string,\n}\n\nconst FormItem = (props: FormItemProps) => {\n  const {\n    id,\n    title = '',\n    type = 'text',\n    disabled = false,\n    checked = false,\n    value,\n    onChange,\n    className = ''\n  } = props\n\n  const _className = [\n    'form-item',\n    disabled && 'form-item--disabled',\n    className\n  ].filter(Boolean).join(' ')\n\n  function _onChange (e: ChangeEvent<HTMLInputElement>) {\n    if (disabled) return\n\n    onChange && onChange(e.target.value)\n  }\n\n  // 若未指定 id，则自动生成一串随机字符串作为 id\n  const _id = id || randomString()\n\n  function getInput () {\n    switch (type) {\n      case 'checkbox':\n        return <ReactToggle checked={checked} disabled={disabled} onChange={_onChange} />\n      case 'color':\n        return <div className='color-picker'>\n          <input type='text' id={_id} disabled={disabled} value={value} onChange={_onChange} />\n          <input type='color' disabled={disabled} value={value} onChange={_onChange} />\n        </div>\n      default:\n        return <input type='text' id={_id} disabled={disabled} value={value} onChange={_onChange} />\n    }\n  }\n\n  return (\n    <div className={_className}>\n      <label className='form-item__label' htmlFor={_id}>{title} :</label>\n      <div className='form-item__input'>\n        { getInput() }\n      </div>\n    </div>\n  )\n}\n\nexport default FormItem\n","import React, { useState, useRef, MouseEvent, DragEvent, useContext } from 'react'\nimport ReactSVG from 'react-svg'\nimport { FileContext } from '../context'\nimport iconUpload from '../assets/upload.svg'\nimport './ImageUploader.scss'\nimport { Button } from './'\n\nconst ImageUploader = () => {\n  const { file, setFile, resetFile } = useContext(FileContext)\n\n  const [isHover, setIsHover] = useState(false)\n\n  const input = useRef<HTMLInputElement>(null)\n\n  function _onClick (e: MouseEvent) {\n    e && e.stopPropagation()\n\n    const _input = input.current\n    if (_input) {\n      _input.click()\n    }\n  }\n\n  // 以 dataURL 的方式读取文件\n  function readFile () {\n    const _input = input.current\n    if (_input && _input.files && _input.files.length) {\n      const file = _input.files[0]\n      const fileReader = new FileReader()\n      fileReader.readAsDataURL(file)\n      fileReader.onload = function () {\n        setFile(this.result as string)\n      }\n    }\n  }\n\n  function _onDragOver (e: DragEvent) {\n    e && e.stopPropagation()\n    e && e.preventDefault()\n\n    setIsHover(true)\n  }\n\n  function _onDragLeave (e: DragEvent) {\n    e && e.stopPropagation()\n    e && e.preventDefault()\n\n    setIsHover(false)\n  }\n\n  function _onDrop () {\n    readFile()\n  }\n\n  function _onChange () {\n    readFile()\n  }\n\n  function reset (e: MouseEvent) {\n    e && e.stopPropagation()\n    resetFile()\n  }\n\n  // 样式相关\n  const uploaderClassNames = [\n    'img-uploader__container',\n    isHover && 'img-uploader--hover'\n  ].filter(Boolean).join(' ')\n\n  const previewerClassNames = [\n    'img-previewer__container'\n  ].filter(Boolean).join(' ')\n\n  return file\n    // 文件上传后，显示预览，并提供重选功能\n    ? (\n      <div className={previewerClassNames}>\n        <div className='img-wrapper'>\n          <img src={file} alt='' />\n        </div>\n        <Button onClick={reset}>重新上传</Button>\n      </div>\n    )\n    // 未上传，或选择重选，则显示上传控件\n    : (\n      <div\n        className={uploaderClassNames}\n        onClick={_onClick}\n        onDragOver={_onDragOver}\n        onDragLeave={_onDragLeave}\n        onDrop={_onDrop}\n      >\n        <ReactSVG src={iconUpload} className='img-uploader__icon' />\n        <p className='img-uploader__text'>点击图标，或拖动文件到这里</p>\n        <input type='file' name='file' ref={input} accept='jpg,png' onChange={_onChange} />\n      </div>\n    )\n}\n\nexport default ImageUploader\n","import React, { ReactNode } from 'react'\nimport './SettingBlock.scss'\n\ninterface SettingBlockProps {\n  title?: string,\n  children: ReactNode\n}\n\n/**\n * @description 设置面板，用于容纳设置项\n */\nconst SettingBlock = (props: SettingBlockProps) => {\n  const {\n    title = '',\n    children\n  } = props\n\n  return (\n    <div className='setting-block__container'>\n      <p className='setting-block__title'>{title}</p>\n      <div className='setting-block__content'>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default SettingBlock\n","import React from 'react'\nimport './Step.scss'\nimport { ReactCommon } from 'utils/interfaces'\n\ninterface StepProps extends ReactCommon {\n  title?: string\n}\n\n/**\n * @description 步骤面板\n */\nconst Step = (props: StepProps) => {\n  const {\n    className,\n    children,\n    title\n  } = props\n\n  const rootClassNames = [\n    'step',\n    className\n  ].filter(Boolean).join(' ')\n\n  return (\n    <section className={rootClassNames}>\n      <header className='step-header'>\n        <h2 className='step-title'>{title}</h2>\n      </header>\n      <section className='step-body'>\n        {children}\n      </section>\n    </section>\n  )\n}\n\nexport default Step\n","import React, { MouseEvent } from 'react'\nimport './Preset.scss'\nimport ReactSVG from 'react-svg'\n\n/**\n * @description 预设组件\n */\ninterface PresetProps {\n  /**\n   * @description 预设的图标\n   */\n  icon?: string,\n  /**\n   * @description 预设的名称\n   */\n  value?: string,\n  /**\n   * @description 预设是否被选中\n   */\n  chosen?: boolean,\n  /**\n   * @description 点击预设的回调\n   */\n  onClick?: () => void,\n  /**\n   * @description 支持额外的样式\n   */\n  className?: string,\n}\n\n/**\n * @description 预设组件\n */\nconst Preset = (props: PresetProps) => {\n  const {\n    icon,\n    value = '',\n    chosen = false,\n    onClick,\n    className = ''\n  } = props\n\n  const classNames = [\n    'preset',\n    value && `preset--${value.toLowerCase()}`,\n    chosen && `preset--chosen`,\n    className\n  ].filter(Boolean).join(' ')\n\n  function _onClick (e: MouseEvent) {\n    e && e.stopPropagation()\n    typeof onClick === 'function' && onClick()\n  }\n\n  return (\n    <div className={classNames} onClick={_onClick}>\n      { icon && <ReactSVG src={icon} className='preset__icon' /> }\n      <p className='preset__name'>{value}</p>\n    </div>\n  )\n}\n\nexport default Preset\n","import React, { ReactNode } from 'react'\nimport './PresetList.scss'\n\ninterface PresetListProps {\n  title?: string,\n  children: ReactNode\n}\n\n/**\n * @description 预设面板，用于容纳预设\n */\nconst PresetList = (props: PresetListProps) => {\n  const {\n    title = '',\n    children\n  } = props\n\n  return (\n    <div className='preset-list__container'>\n      <p className='preset-list__title'>{title}</p>\n      <div className='preset-list__content'>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default PresetList\n","import React, { useContext } from 'react'\nimport './App.scss'\nimport { useFixedViewport } from './hooks'\nimport { AppBar, Step, ImageUploader, Preset, PresetList, Exporter, SettingBlock, FormItem } from './components'\nimport { PresetContext } from 'context'\nimport { OptionBag } from 'utils/interfaces'\nimport iconAndroid from './assets/android.svg'\nimport iconIOS from './assets/ios.svg'\nimport iconWeb from './assets/web.svg'\nimport iconWindows from './assets/windows.svg'\n\n/**\n * @description 图标常量\n */\nconst ICONS: OptionBag = {\n  ANDROID: iconAndroid,\n  IOS: iconIOS,\n  WEB: iconWeb,\n  WINDOWS: iconWindows\n}\n\nconst App = () => {\n  useFixedViewport()\n\n  const {\n    presets,\n    fillColor,\n    togglePreset,\n    setFillColor\n  } = useContext(PresetContext)\n\n  // 获取预设列表，及其勾选状态\n  const presetKeys: {name: string, chosen: boolean}[] = []\n  presets.forEach(preset => {\n    if (!presetKeys.find(key => key.name === preset.name)) {\n      presetKeys.push({ name: preset.name, chosen: preset.chosen })\n    }\n  })\n\n  const isWindowsChosen = presetKeys.some(n => n.name === 'Windows' && n.chosen)\n\n  return (\n    <div id='app' className='app'>\n      <AppBar />\n\n      <main className='main'>\n\n        <Step className='step-1' title='第 1 步：上传图片'>\n          <ImageUploader />\n        </Step>\n\n        <Step className='step-2' title='第 2 步：选择预设'>\n          <div className='step-2-wrapper'>\n            <PresetList title='预设'>\n              { presetKeys.map(n =>\n                <Preset\n                  key={n.name}\n                  icon={ICONS[n.name.toUpperCase()]}\n                  value={n.name}\n                  chosen={n.chosen}\n                  onClick={() => { togglePreset(n.name) }}\n                />\n              )}\n            </PresetList>\n\n            <SettingBlock title='Windows Tile 设定'>\n              <FormItem\n                id='fill-color'\n                title='Fill Color'\n                type='color'\n                disabled={!isWindowsChosen}\n                value={fillColor}\n                onChange={val => {\n                  setFillColor(val)\n                }}\n              />\n            </SettingBlock>\n\n          </div>\n        </Step>\n\n        <Step className='step-3' title='第 3 步：预览结果'>\n          <Exporter />\n        </Step>\n\n      </main>\n    </div>\n  )\n}\n\nexport default App\n","import 'react-app-polyfill/stable'\nimport React from 'react'\nimport { render } from 'react-dom'\nimport { register } from './serviceWorker'\nimport App from './App'\nimport './styles/global.scss'\nimport { PresetContextProvider, FileContextProvider } from 'context'\n\nconst Comp = (\n  <PresetContextProvider>\n    <FileContextProvider>\n      <App />\n    </FileContextProvider>\n  </PresetContextProvider>\n)\n\nrender(\n  Comp,\n  document.getElementById('root') as HTMLElement\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nregister()\n","module.exports = __webpack_public_path__ + \"static/media/github.2c3bf0c0.svg\";","module.exports = __webpack_public_path__ + \"static/media/ios.8d121c21.svg\";","module.exports = __webpack_public_path__ + \"static/media/android.689382f7.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.aba8983e.svg\";","module.exports = __webpack_public_path__ + \"static/media/web.61b3da43.svg\";"],"sourceRoot":""}